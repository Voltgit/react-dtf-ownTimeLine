(this["webpackJsonpreact-app_2"]=this["webpackJsonpreact-app_2"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(4),i=n.n(a),o=(n(9),n(3));n(10);var r=function(){return new Promise((function(e){window.addEventListener("scroll",(function(t){var n=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),s=document.getElementById("root").getClientRects()[0].height-n;window.scrollY>.8*s&&e(!0)}))}))},l=n(0);var d=function(e){var t=["PostContent"],n=e.post,s=640*n.cover.size.height/n.cover.size.width;return s>365&&(t.push("portrait"),s=360),Object(l.jsx)("div",{className:t.join(" "),children:"gif"!==n.cover.additionalData.type?Object(l.jsx)("div",{style:{width:"640px",height:"".concat(s,"px"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(n.cover.url,")"),borderRadius:"0px 0px 8px 8px"}}):Object(l.jsx)("div",{style:{width:"640px",height:"360px"},children:Object(l.jsx)("video",{loop:!0,muted:!0,controls:!0,name:"media",style:{width:"100%",height:"100%"},children:Object(l.jsx)("source",{src:n.cover.url,type:"video/mp4"})})})})};var u=function(e){var t=e.post;return Object(l.jsxs)("div",{className:"PostHeader",children:[Object(l.jsxs)("div",{className:"PostInfo",children:[Object(l.jsx)("div",{className:"PostInfo__subsite-logo",style:{backgroundImage:"url(".concat(t.subsite.avatar_url,")")}}),Object(l.jsx)("span",{className:"PostInfo__subsite",children:t.subsite.name}),Object(l.jsx)("span",{className:"PostInfo__author",children:t.author.name}),Object(l.jsx)("span",{className:"PostInfo__date",children:"50 sek"}),Object(l.jsx)("span",{className:"PostInfo__rating",children:t.likes.count})]}),Object(l.jsx)("div",{className:"PostHeader__title",children:t.title}),Object(l.jsx)("div",{className:"PostHeader__discription",children:t.intro})]})};var h=function(e){var t=e.post;return Object(l.jsxs)("div",{className:"PostBlock",children:[Object(l.jsx)(u,{post:t}),Object(l.jsx)(d,{post:t})]})};var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=new URL(e),c={count:t,offset:n};return s.search=new URLSearchParams(c).toString(),fetch(s).then((function(e){return e.json()})).then((function(e){return e.result}))};var p=function(){var e=Object(s.useState)([1,2,3]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(3),i=Object(o.a)(a,2),d=i[0],u=i[1];return Object(s.useEffect)((function(){j("https://api.dtf.ru/v1.8/timeline/mainpage/popular",d).then((function(e){return c(e)})),r().then((function(e){j("https://api.dtf.ru/v1.8/timeline/mainpage/popular",d).then((function(e){c(e),console.log(12313),u(d+3)}))}))}),[d]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:"App-header",children:Object(l.jsxs)("h1",{children:["DTF Popular ",n.length]})}),Object(l.jsx)("div",{className:"container",children:n.map((function(e,t){return console.log(e.id+"  /  "+e.title),!!e.cover&&Object(l.jsx)(h,{post:e},e.id)}))})]})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.80ae12c8.chunk.js.map